<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Upload DARF (Receita Federal)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class', // habilita suporte a modo escuro via classe "dark"
        }
    </script>
</head>
<body class="bg-green-50 dark:bg-gray-900 min-h-screen flex flex-col items-center justify-start py-10 px-4 font-sans">

<h1 class="text-4xl font-bold text-green-800 dark:text-green-300 mb-8">
    Upload de Comprovante Receita Federal (DARF)
</h1>

<div class="w-full max-w-2xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-10 border border-green-200 dark:border-green-500">

    <div th:if="${mensagem}" class="mb-6 flex items-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border border-green-300 dark:border-green-500 p-4 rounded-md">
        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path>
        </svg>
        <span th:text="${mensagem}"></span>
    </div>

    <div th:if="${erro}" class="mb-6 flex items-center bg-red-100 text-red-800 border border-red-300 p-4 rounded-md">
        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
        <span th:text="${erro}"></span>
    </div>

    <form th:action="@{/importacaotf/darf/upload}" method="post" enctype="multipart/form-data" class="space-y-8">

        <div>
            <label for="empresaId" class="block text-lg font-medium text-green-800 dark:text-green-300 mb-2">Empresa</label>
            <select name="empresaId" id="empresaId" required
                    class="w-full p-3 border border-green-300 dark:border-green-600 rounded-md bg-white dark:bg-gray-700 text-green-800 dark:text-green-100 focus:ring-green-500 focus:border-green-500">
                <option value="" disabled selected>Selecione uma empresa</option>
                <option th:each="empresa : ${empresas}"
                        th:value="${empresa.id}"
                        th:text="${empresa.nome}">Empresa</option>
            </select>
        </div>

        <div>
            <label for="file" class="block text-lg font-medium text-green-800 dark:text-green-300 mb-2">Arquivo PDF</label>
            <input type="file" name="file" id="file" accept="application/pdf" required
                   class="block w-full p-3 text-base text-green-800 dark:text-green-100 border border-green-300 dark:border-green-600 rounded-lg cursor-pointer bg-white dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500" />
        </div>

        <div class="flex justify-between items-center pt-4">
            <a th:href="@{/importartf/todas}"
               class="flex items-center bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 px-6 py-3 rounded-md hover:bg-green-200 dark:hover:bg-green-700 transition">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" stroke-width="2"
                     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                </svg>
                Cancelar
            </a>

            <button type="submit"
                    class="inline-flex justify-center px-6 py-3 border border-green-600 shadow-md text-base rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none">
                Enviar PDF
            </button>
        </div>
    </form>
</div>

</body>
</html>
