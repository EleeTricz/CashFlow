<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Caixa</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900">
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6">Painel de Controle - Sistema de Caixa</h1>

    <!-- Seleção de Usuário -->
    <form th:action="@{/empresastf/usuario}" method="get" class="mb-6">
        <label for="usuario" class="block font-semibold mb-1">Selecione o Usuário:</label>
        <select name="usuarioId" id="usuario" class="p-2 rounded w-full border">
            <option th:each="usuario : ${usuarios}"
                    th:value="${usuario.id}"
                    th:text="${usuario.nome}"></option>
        </select>
        <button type="submit" class="mt-2">Buscar</button>
    </form>


    <!-- Empresas do Usuário ou todas se for admin -->
    <div th:if="${empresas}">
        <h2 class="text-xl font-bold mt-10 mb-4">Empresas</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
            <div th:each="empresa : ${empresas}" class="bg-white rounded shadow p-4">
                <h3 class="text-lg font-semibold" th:text="${empresa.nome}"></h3>
                <a th:href="@{/empresastf/{id}(id=${empresa.id})}"
                   class="mt-2 inline-block text-blue-600 hover:underline">Acessar</a>
            </div>
        </div>
    </div>

    <!-- Botão para criar nova empresa -->
    <div class="mt-6">
        <a href="/empresastf/nova" class="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded">Cadastrar Nova Empresa</a>
    </div>
</div>
</body>
</html>
